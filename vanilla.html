<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="icon" href="images/logo.png">
    <meta name="description" content="Free, modern and nice web template for Minecraft server.">
    <meta name="author" content="Astronawta">

    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/pages/home.css">

    <title>Createminecraft | Vanilla</title>
</head>
<body>
    <!--Navbar-->
    <div class="navbar">
        <div class="menu-mobile">
            <a href="index.html">
                <div class="logo">
                    <img src="images/logo.png" alt="Server logo" class="logo-img">
                    <h3 class="server-name">Createminecraft</h3>
                </div>
            </a>

            <div class="hamburger">
                <i class="fa-solid fa-bars"></i>
            </div>
        </div>

        <div class="links">
            <a href="index.html" class="link">Create</a>
            <a href="#" class="link active">Vanilla</a>
            <a href="psn.html" class="link">PSN</a>
        </div>
    </div>

    <!--Header-->
    <section id="header">
        <div class="content">

            <div class="left">
                <div class="server-name">
                    <p>Vanila Minecraft Server</p>
                    <h1 class="minecraft-server-ip">play.createminecraft.dpdns.org</h1>
                </div>
                <!-- Minecraft status block -->
                <div class="server-description" id="mc-status">
                    Checking Minecraft server status...
                </div>
                <div class="buttons">
                    <button class="copy-ip">Copy IP</button>
                    <a href="#about"><button class="how-to-join">Curse</button></a>
                </div>
                <p class="ip-copied">IP was successfully copied!</p>
            </div>

            <div class="right">
                <img src="images/logo.png" alt="Server logo" class="logo-img logo-img-header">

                <div class="stats">
                    <div class="stat">
                        <div class="icon">
                            <i class="fa-brands fa-discord"></i>
                        </div>
                        <div class="texts">
                            <h5 class="stat-title">ARK Discord Server</h5>
                            <p><span class="stat-number discord-online-users">None</span> users online</p>
                        </div>
                    </div>
                    <div class="stat">
                        <div class="icon">
                            <i class="fa-solid fa-server"></i>
                        </div>
                        <div class="texts">
                            <h5 class="stat-title">Minecraft server</h5>
                            <p><span class="stat-number minecraft-online-players">None</span> players online</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!--Discord-->
    <section id="discord">
        <div class="content">
            <h2 class="section-title">Join our <span>PVE Oficial ASA ARK Server</span> if you need some dinos! <br> Join our <span>Dummystore!</span></h2>
            <a href="#" class="discord-link"><button class="join-discord">Join Discord</button></a>
        </div>
    </section>

    <!--Footer-->
    <footer id="footer">
        <p class="copyright">&copy; 2025 <span class="server-name-footer">Createminecraft</span>. All rights reserved.</p>
    </footer>
</body>
<script src="js/vanilla.js"></script>
<script src="https://kit.fontawesome.com/cbf5ee59c8.js" crossorigin="anonymous"></script>

<!-- Minecraft server status script -->
<script>
    const serverIP = "play.createminecraft.dpdns.org"; // vanilla server IP
    const statusDiv = document.getElementById('mc-status');

    async function checkServer() {
        try {
            const response = await fetch(`https://api.mcsrvstat.us/2/${serverIP}`);
            const data = await response.json();

            if (data.online) {
                statusDiv.innerHTML = `
                    <strong style="color:#00ff00;">✅ Server is ONLINE</strong><br>
                    Players: ${data.players.online} / ${data.players.max}<br>
                    Version: ${data.version}<br><br>
                    
                `;
                // update the right-side stat box
                document.querySelector(".minecraft-online-players").textContent = data.players.online;
            } else {
                statusDiv.innerHTML = `
                    <strong style="color:#ff0000;">❌ Server is OFFLINE</strong><br>
                    Try again later.
                `;
                document.querySelector(".minecraft-online-players").textContent = "0";
            }
        } catch (error) {
            statusDiv.innerHTML = `<span style="color:#ff0000;">⚠ Error fetching server status</span>`;
            console.error(error);
        }
    }

    checkServer();
    setInterval(checkServer, 30000);

    // Copy IP button functionality
    document.addEventListener('DOMContentLoaded', function() {
        const copyBtn = document.querySelector('.copy-ip');
        const ipCopiedMsg = document.querySelector('.ip-copied');
        const ipText = document.querySelector('.minecraft-server-ip').textContent;

        ipCopiedMsg.style.display = 'none';

        copyBtn.addEventListener('click', function() {
            navigator.clipboard.writeText(ipText).then(function() {
                ipCopiedMsg.style.display = 'block';
                setTimeout(() => {
                    ipCopiedMsg.style.display = 'none';
                }, 2000);
            });
        });
    });

    // Discord member count fetch logic
    // Replace YOUR_DISCORD_SERVER_ID with your actual Discord server ID
    const discordServerId = "1294820990718705705";
    async function fetchDiscordMembers() {
        try {
            const response = await fetch(`https://discord.com/api/guilds/${discordServerId}/widget.json`);
            const data = await response.json();
            document.querySelector('.discord-online-users').textContent = data.presence_count ?? "None";
        } catch (error) {
            document.querySelector('.discord-online-users').textContent = "None";
        }
    }
    fetchDiscordMembers();
    setInterval(fetchDiscordMembers, 30000);
</script>
</html>
